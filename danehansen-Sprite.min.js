!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("@danehansen/event-dispatcher"),require("@danehansen/math"),require("gsap/TweenLite")):"function"==typeof define&&define.amd?define(["@danehansen/event-dispatcher","@danehansen/math","gsap/TweenLite"],r):"object"==typeof exports?exports.Sprite=r(require("@danehansen/event-dispatcher"),require("@danehansen/math"),require("gsap/TweenLite")):(e.danehansen=e.danehansen||{},e.danehansen.Sprite=r(e.danehansen.EventDispatcher,e.danehansen.math,e.TweenLite))}(this,function(e,r,t){return function(e){function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}var t={};return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=3)}([function(r,t){r.exports=e},function(e,t){e.exports=r},function(e,r){e.exports=t},function(e,r,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function s(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function i(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var a=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),u=t(0),f=o(u),l=t(1),_=t(2),p=o(_),c=function(e){function r(e,t,o){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:60;n(this,r);var u=s(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));u.destroy=function(){p.default.killTweensOf(u),u.clearEventListeners()},u.resize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u._element.offsetWidth,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u._element.offsetHeight;u._width=e,u._height=r,u._showFrame(u._frame)},u.progress=function(e){if(void 0===e)return u._progress;e=u._limit(e);var t=void 0,o=void 0;u._progress!==e&&(t=!0,o=e>u._progress),u._progress=e;var n=u._progressToFrame(e);for(u._frame=n;n<0;)n+=u._frames;n%=u._frames,u._actualFrame!==n&&(u._showFrame(n),u.dispatchEvent(r.ENTER_FRAME)),t&&e%1==0&&u.dispatchEvent(o?r.COMPLETE:r.REWIND_COMPLETE)},u.frame=function(e){if(void 0===e)return u._frame;u.progress(u._frameToProgress(e))},u.progressTo=function(e){if(e=u._limit(e),u._progress!==e&&u._dest!==e){var r=Math.abs(e-u._progress)*u._frames/u.frameRate;null!==u._dest&&p.default.killTweensOf(u),u._dest=e,p.default.to(u,r,{ease:u.ease,onComplete:u._resetDest,progress:e})}},u.frameTo=function(e){u.progressTo(u._frameToProgress(e))},u.nextFrame=function(){u.frame(u._frame+1)},u.prevFrame=function(){u.frame(u._frame-1)},u.play=function(){u._loopDir=1,u.progressTo(Math.round(u._progress+.5))},u.rewind=function(){u._loopDir=-1,u.progressTo(Math.round(u._progress-.500000001))},u.stop=function(){u._dest=null,u._loopDir=null,p.default.killTweensOf(u)},u._resetDest=function(){u._dest=null,u._loop?1===u._loopDir?u.progressTo(u._progress+1):-1===u._loopDir&&u.progressTo(u._progress-1):u._loopDir=null},u.loop=function(e){if(void 0===e||e===u._loop)return u._loop;if(u._loop=e,!(null!==u._dest))return void u.frame(u._actualFrame);if(!(u._progress>=0&&u._progress<=1&&u._dest>=0&&u._dest<=1&&u._dest!==u._progress)){p.default.killTweensOf(u);var r=u._loopDir||(u._dest>u._progress?1:-1);if(u._progress=(0,l.modulo)(u._progress,1),!u._loopDir){var t=(0,l.modulo)(u._dest,1);return void u.progressTo(t)}1===r?(u._dest=null,u.play()):u.rewind()}},u._loop=i,u.frameRate=a,u._progress=0,u._frame=0,u._actualFrame=0,u._dest=null,u.ease="Linear.easeNone",u._element=e,u._style=e.style,u._columns=t,u._frames=o;var f=Math.ceil(o/t);return u._style.backgroundSize=100*t+"% "+100*f+"%",u.resize(),u}return i(r,e),a(r,[{key:"_showFrame",value:function(e){this._actualFrame=e,this._style.backgroundPosition=-this._width*(e%this._columns)+"px "+-this._height*Math.floor(e/this._columns)+"px"}},{key:"_progressToFrame",value:function(e){var r=e*(this._frames-(this._loop?0:1));return e<0?Math.ceil(r):Math.floor(r)}},{key:"_frameToProgress",value:function(e){return this._loop?e/this._frames:e/(this._frames-1)}},{key:"_limit",value:function(e){return this._loop?e:Math.max(0,Math.min(e,1))}},{key:"element",get:function(){return this._element}},{key:"frames",get:function(){return this._frames}}]),r}(f.default);c.ENTER_FRAME="ENTER_FRAME",c.COMPLETE="COMPLETE",c.REWIND_COMPLETE="REWIND_COMPLETE",e.exports=c}])});